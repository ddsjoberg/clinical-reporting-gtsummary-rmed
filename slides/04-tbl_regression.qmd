# tbl_regression()

## Traditional model summary()

::: columns
::: {.column width="50%" style="font-size:0.75em;font-family:monospace"}
```{r}
#| output: true
#| label: raw-model-summary
m1 <- 
  glm(
    response ~ age + stage,
    data = trial,
    family = binomial(link = "logit")
  )
```
:::

::: {.column width="50%" style="font-size:0.5em;"}
![](images/raw-output-logistic-regression.png)
:::
:::

Looks **messy** and it's not easy to digest

## Basic tbl_regression()

```{r}
#| output-location: "column"
tbl_regression(m1)
```

-   Displays **p-values** for covariates

-   Shows **reference levels** for categorical variables

## Customize tbl_regression() output

```{r}
#| output-location: "column"
tbl_regression(
  m1,
  exponentiate = TRUE
) |> 
  add_global_p() |>
  add_glance_table(
    include = c(nobs, logLik, AIC, BIC)
  )
```

-   Display **odds ratio** estimates and **confidence intervals**

-   Add global p-values

-   Add various model statistics

## Supported models in tbl_regression()

`r broom.helpers::supported_models$model`

**Custom tidiers** can be written and passed to `tbl_regression()` using the `tidy_fun=` argument.

## Exercise 4

1. Build a logistic regression model with death as the outcome. Include smoking and the other variables as covariates.

1. Summarize the logistic regression model with `tbl_regression()`.

1. What modifications did you decide to make the the regression summary?

```{r echo=FALSE}
countdown(minutes = 8, font_size = "1.5em")
```

## Univariate models with tbl_uvregression()

```{r}
#| output-location: "column"
tbl_uvreg <- 
  sm_trial |> 
  tbl_uvregression(
    method = glm,
    y = response,
    method.args = list(family = binomial),
    exponentiate = TRUE
  )
tbl_uvreg
```

-   Specify model `method`, `method.args`, and the `response` variable

-   Arguments and helper functions like `exponentiate`, `bold_*()`, `add_global_p()` can also be used with `tbl_uvregression()`

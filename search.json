[
  {
    "objectID": "exercises/solutions.html",
    "href": "exercises/solutions.html",
    "title": "Clinical Reporting with gtsummary: Solutions",
    "section": "",
    "text": "Exercise 2\nPrepare a table describing the cohort by whether or not the participant quit smoking. Do not include death in the summary table. Consider using the gtsummary functions that build on a summary table.\n\ngts_patient_characteristics <-\n  df_nhefs %>%\n  tbl_summary(\n    by = qsmk,\n    include = -death\n  ) %>%\n  add_p() %>%\n  add_stat_label() %>%\n  modify_spanning_header(\n    all_stat_cols() ~ \"**Smoking Status**\"\n  )\ngts_patient_characteristics\n\n\n\n\n\n  \n  \n    \n      Characteristic\n      \n        Smoking Status\n      \n      p-value1\n    \n    \n      Did not Quit, N = 1,157\n      Quit, N = 391\n    \n  \n  \n    Age, Median (IQR)\n42 (33, 51)\n46 (35, 56)\n<0.001\n    Sex, n (%)\n\n\n0.005\n    Female\n619 (54%)\n177 (45%)\n\n    Male\n538 (46%)\n214 (55%)\n\n    Systolic BP, Median (IQR)\n125 (115, 138)\n130 (118, 142)\n<0.001\n    Diastolic BP, Median (IQR)\n77 (70, 84)\n78 (71, 86)\n0.016\n    Exercise Level, n (%)\n\n\n0.2\n    Little or no exercise\n438 (38%)\n159 (41%)\n\n    Moderate exercise\n482 (42%)\n169 (43%)\n\n    Much exercise\n237 (20%)\n63 (16%)\n\n  \n  \n  \n    \n      1 Wilcoxon rank sum test; Pearson's Chi-squared test\n    \n  \n\n\n\n\n\n\nExercise 3\nIs there a difference in death rates by smoking status?\nPrepare an unadjusted and adjusted rate difference in the table.\n\ngts_death_unadjusted <-\n  df_nhefs %>%\n  tbl_summary(\n    by = qsmk, \n    include = death,\n    statistic = all_categorical() ~ \"{p}%\"\n  ) %>%\n  add_difference() %>%\n  add_stat_label() \ngts_death_unadjusted\n\n\n\n\n\n  \n  \n    \n      Characteristic\n      Did not Quit, N = 1,157\n      Quit, N = 391\n      Difference1\n      95% CI1,2\n      p-value1\n    \n  \n  \n    Participant Passed Away, %\n17%\n22%\n-4.9%\n-9.7%, -0.07%\n0.037\n  \n  \n  \n    \n      1 Two sample test for equality of proportions\n    \n    \n      2 CI = Confidence Interval\n    \n  \n\n\n\ngts_death_adjusted <-\n  df_nhefs %>%\n  tbl_summary(\n    by = qsmk, \n    include = death,\n    statistic = all_categorical() ~ \"{p}%\"\n  ) %>%\n  add_difference(\n    test = all_categorical() ~ \"emmeans\",\n    adj.vars = c(age, sex, sbp, dbp, exercise)\n  ) %>%\n  add_stat_label() \n\nThere was an error in 'add_p()/add_difference()' for variable 'death', p-value omitted:\nError in `broom.helpers::.assert_package()`:\n! The package `emmeans` is required.\n\ngts_death_adjusted\n\n\n\n\n\n  \n  \n    \n      Characteristic\n      Did not Quit, N = 1,157\n      Quit, N = 391\n      p-value\n    \n  \n  \n    Participant Passed Away, %\n17%\n22%\n\n  \n  \n  \n\n\n\n\n\n\nExercise 4\nBuild a logistic regression model with death as the outcome. Include smoking and the other variables as covariates. Summarize your regression model in a table, reporting the odds ratio, its confidence interval, and p-value.\n\nmod <- glm(death ~ qsmk + age + sex + sbp + dbp + exercise, \n           data = df_nhefs, family = binomial)\n\ngts_mod <-\n  tbl_regression(mod, exponentiate = TRUE) %>%\n  add_global_p() %>%\n  bold_p() %>%\n  italicize_levels() %>%\n  modify_caption(\"**Logistic regression model predicting death**\") %>%\n  modify_header(label = \"**Variable** (N = {N})\")\ngts_mod\n\n\n\n\n\n  Logistic regression model predicting death\n  \n  \n    \n      Variable (N = 1548)\n      OR1\n      95% CI1\n      p-value\n    \n  \n  \n    Quit Smoking\n\n\n0.5\n    Did not Quit\nâ€”\nâ€”\n\n    Quit\n0.90\n0.64, 1.26\n\n    Age\n1.11\n1.10, 1.13\n<0.001\n    Sex\n\n\n<0.001\n    Female\nâ€”\nâ€”\n\n    Male\n1.78\n1.31, 2.43\n\n    Systolic BP\n1.02\n1.01, 1.03\n<0.001\n    Diastolic BP\n1.00\n0.98, 1.01\n0.6\n    Exercise Level\n\n\n0.3\n    Little or no exercise\nâ€”\nâ€”\n\n    Moderate exercise\n0.78\n0.56, 1.08\n\n    Much exercise\n0.81\n0.52, 1.25\n\n  \n  \n  \n    \n      1 OR = Odds Ratio, CI = Confidence Interval\n    \n  \n\n\n\n\n\n\nExercise 5\nWrite a brief summary of the results above using inline_text() to report values from the tables directly into the markdown report.\n\nmedian_age_quit <-\n  inline_text(gts_patient_characteristics, \n              variable = age, \n              column = \"Quit\", \n              pattern = \"{median}\")\nmedian_age_no_quit <-\n  inline_text(gts_patient_characteristics, \n              variable = age, \n              column = \"Did not Quit\", \n              pattern = \"{median}\")\npvalue_age <- \n  inline_text(gts_patient_characteristics, \n              variable = age,\n              column = p.value)\n\nunadj_difference <-\n  inline_text(gts_death_unadjusted, \n              variable = death,\n              pattern = \"difference {estimate}; 95% CI {ci}; {p.value}\")\n\n\nThe analysis assessing the relationship between quitting smoking and subsequent death within the next 20 years included 1548 participants. The median age among those who quit was higher compared to those who did not (46 vs 42; p<0.001).\nOn univariate analysis, participants who did not quit smoking had higher rates of death (difference -4.9%; 95% CI -9.7%, -0.07%; p=0.037). However"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Clinical Reporting with {gtsummary}",
    "section": "",
    "text": "ðŸ—“ï¸ August 23, 2022 | 11:00am - 2:00pm EDT\nðŸ¨ Virtual\nðŸ’¥ FREE with conference registration ($10 to $50)\nðŸ“ Add Workshop to Schedule to Register"
  },
  {
    "objectID": "index.html#learning-objectives",
    "href": "index.html#learning-objectives",
    "title": "Clinical Reporting with {gtsummary}",
    "section": "Learning objectives",
    "text": "Learning objectives\nBuild, customize, and report tables often found in medical journals and other research-related publications."
  },
  {
    "objectID": "index.html#is-this-course-for-me",
    "href": "index.html#is-this-course-for-me",
    "title": "Clinical Reporting with {gtsummary}",
    "section": "Is this course for me?",
    "text": "Is this course for me?\nIf your answer to any of the following questions is â€œyesâ€, then this is the right workshop for you.\n\nDo you make summary tables in R (data, survey data, regression models, time-to-event data, adverse event reports)?\nDo you want your workflow to be reproducible?\nAre you often frustrated with the immense amount of code required to create great-looking tables in R?\n\nThe workshop is designed for those with some experience in R. It will be expected that you can perform basic data manipulation. Experience with the {tidyverse} and the %>% operator is a plus, but not required."
  },
  {
    "objectID": "index.html#prework",
    "href": "index.html#prework",
    "title": "Clinical Reporting with {gtsummary}",
    "section": "Prework",
    "text": "Prework\nBefore attending the workshop please have the following installed and configured on your machine.\n\nRecent version of R\nRecent version of RStudio\nMost recent release of the gtsummary and other packages used in workshop.\ninstll_pkgs <- \n  c(\"gtsummary\", \"tidyverse\", \"labelled\", \"usethis\", \"causaldata\", \"fs\", \"skimr\", \"car\")\ninstall.packages(instll_pkgs)\nEnsure you can knit R markdown documents\n# Run this to open an R markdown document to render\nsystem.file(package = \"gtsummary\") |> \n  file.path(\"rmarkdown_example/gtsummary_rmarkdown_html.Rmd\") |> \n  file.edit()"
  },
  {
    "objectID": "license.html",
    "href": "license.html",
    "title": "License",
    "section": "",
    "text": "This work is licensed under a Creative Commons Attribution 4.0 International License."
  },
  {
    "objectID": "material.html",
    "href": "material.html",
    "title": "Material",
    "section": "",
    "text": "Download exercises with\nusethis::use_zip(\n  \"https://github.com/ddsjoberg/clinical-reporting-gtsummary-rmed/raw/main/exercises/exercises.zip\",\n  destdir = fs::path_home()\n)\nSolutions available here."
  },
  {
    "objectID": "material.html#slides",
    "href": "material.html#slides",
    "title": "Material",
    "section": "Slides",
    "text": "Slides"
  },
  {
    "objectID": "slides/index.html#acknowledgements",
    "href": "slides/index.html#acknowledgements",
    "title": "Clinical Reporting with {gtsummary}",
    "section": "Acknowledgements",
    "text": "Acknowledgements\n\n\n\n\n\n\n\nThis work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License (CC BY-SA4.0)."
  },
  {
    "objectID": "slides/index.html#daniel-sjoberg",
    "href": "slides/index.html#daniel-sjoberg",
    "title": "Clinical Reporting with {gtsummary}",
    "section": "Daniel Sjoberg",
    "text": "Daniel Sjoberg\n\n\n danieldsjoberg.com\n @statistishdan\n linkedin.com/in/ddsjoberg/\n github.com/ddsjoberg"
  },
  {
    "objectID": "slides/index.html#checklist",
    "href": "slides/index.html#checklist",
    "title": "Clinical Reporting with {gtsummary}",
    "section": "Checklist",
    "text": "Checklist\n\n Install recent R release\nCurrent version 4.2.1\n Install RStudio\nI am on version 2022.07.1+554 \n Install packages\ninstall.packages(c(\"gtsummary\", \"tidyverse\", \"labelled\", \"usethis\", \"causaldata\", \"skimr\"))\n Ensure you can knit Rmarkdown files"
  },
  {
    "objectID": "slides/index.html#show-a-tbl",
    "href": "slides/index.html#show-a-tbl",
    "title": "Clinical Reporting with {gtsummary}",
    "section": "Show a tbl",
    "text": "Show a tbl\n\n\ntrial |> \n  tbl_summary(\n    by = trt, \n    include = c(age, grade)\n  )\n\n\n\n\n\n\nCharacteristic\n\n\nDrug A, N = 981\n\n\nDrug B, N = 1021\n\n\n\n\n\n\nAge\n\n\n46 (37, 59)\n\n\n48 (39, 56)\n\n\n\n\nUnknown\n\n\n7\n\n\n4\n\n\n\n\nGrade\n\n\n\n\n\n\n\n\nI\n\n\n35 (36%)\n\n\n33 (32%)\n\n\n\n\nII\n\n\n32 (33%)\n\n\n36 (35%)\n\n\n\n\nIII\n\n\n31 (32%)\n\n\n33 (32%)\n\n\n\n\n\n\n1 Median (IQR); n (%)\n\n\n\n\n\n\n\n\n\n\nClinical Reporting with {gtsummary}"
  }
]